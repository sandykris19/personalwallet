(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{42:function(e,t,a){},61:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(0),s=a(18),l=a.n(s),i=a(14),r=a(4),j=(a(42),a(3)),b=a(10),d=a(5),o=a.n(d),u=function(){Object(n.useEffect)((function(){o.a.get("/users").then((function(e){s(Object(b.a)(e.data))}))}),[]);var e=Object(n.useState)([]),t=Object(j.a)(e,2),a=t[0],s=t[1];return Object(c.jsxs)("div",{className:"ml-4 p-2",children:[0===a.length&&Object(c.jsx)("h5",{children:"No Wallets to display or fetching from database"}),Object(c.jsxs)("table",{className:"table table-striped table-hover",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"User ID"}),Object(c.jsx)("th",{children:"Name"}),Object(c.jsx)("th",{children:"Mobile"}),Object(c.jsx)("th",{children:"Balance"})]})}),Object(c.jsx)("tbody",{children:a.map((function(e,t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{title:e._id,children:t+1}),Object(c.jsx)("td",{children:e.name}),Object(c.jsx)("td",{children:e.mobile}),Object(c.jsx)("td",{children:e.balance})]},e._id)}))})]})]})},m=a(9),h=function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),a=t[0],s=t[1],l=Object(n.useState)(!1),i=Object(j.a)(l,2),r=i[0],b=i[1],d=Object(n.useState)({name:"",mobile:"",balance:""}),u=Object(j.a)(d,2),h=u[0],O=u[1];return Object(c.jsxs)("div",{className:"ml-4 p-2",children:[Object(c.jsx)("h5",{children:"Create New wallet"}),Object(c.jsx)("div",{children:Object(c.jsxs)("form",{children:[Object(c.jsxs)("div",{className:"my-2 d-flex align-items-center justify-content-around",style:{width:"280px"},children:[Object(c.jsx)("label",{htmlFor:"username",className:"form-label",children:"Name"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"username",style:{width:"200px"},value:h.name,onChange:function(e){O(Object(m.a)(Object(m.a)({},h),{},{name:e.target.value}))}})]}),Object(c.jsxs)("div",{className:"my-2 d-flex align-items-center justify-content-around",style:{width:"280px"},children:[Object(c.jsx)("label",{htmlFor:"mobile",className:"form-label",children:"Mobile"}),Object(c.jsx)("input",{type:"text",className:"form-control",style:{width:"200px"},id:"mobile",value:h.mobile,onChange:function(e){return O(Object(m.a)(Object(m.a)({},h),{},{mobile:e.target.value}))}})]}),Object(c.jsxs)("div",{className:"my-2 d-flex align-items-center justify-content-around",style:{width:"280px"},children:[Object(c.jsx)("label",{htmlFor:"balance",className:"form-label",children:"Balance"}),Object(c.jsx)("input",{type:"text",className:"form-control",style:{width:"200px"},id:"balance",value:h.balance,onChange:function(e){return O(Object(m.a)(Object(m.a)({},h),{},{balance:e.target.value}))}})]}),Object(c.jsx)("button",{className:"btn btn-primary btn-sm",style:{marginLeft:"4.5rem"},onClick:function(e){e.preventDefault(),s(!0),setTimeout((function(){o.a.post("/user",Object(m.a)({},h)).then((function(e){s(!1),b(!0),setTimeout((function(){b(!1),O({name:"",mobile:"",balance:""})}),2e3),console.log(e.data)}))}),1e3)},children:"Submit"}),a&&Object(c.jsx)("span",{className:"badge badge-warning ml-2",children:"Saving to database"}),r&&Object(c.jsx)("span",{className:"badge badge-success ml-2",children:"Saved"})]})})]})},O=a(15),x=a(12),f=(a(61),function(){var e=Object(n.useState)(null),t=Object(j.a)(e,2),a=t[0],s=t[1],l=Object(n.useState)([]),i=Object(j.a)(l,2),r=i[0],d=i[1];return Object(n.useEffect)((function(){var e=[];o.a.get("/users").then((function(t){var a,c=t.data,n=Object(O.a)(c);try{for(n.s();!(a=n.n()).done;){var s=a.value;e=[].concat(Object(b.a)(e),[{value:s._id,label:s.name}])}}catch(l){n.e(l)}finally{n.f()}d(e)}))}),[]),Object(c.jsxs)("div",{className:"ml-4 p-2",children:[Object(c.jsxs)("div",{className:"d-flex align-items-center mt-3",children:[Object(c.jsx)("h5",{className:"m-2",children:"Select or search user"}),Object(c.jsx)(x.a,{onChange:function(e){o.a.get("/balance?user_id=".concat(e.value)).then((function(e){s(e.data.balance)}))},options:r,classNamePrefix:"my"})]}),Object(c.jsxs)("div",{className:"d-flex ml-2 mt-3",children:[Object(c.jsx)("h5",{children:"User Balance is: "}),Object(c.jsxs)("h5",{className:"ml-4",children:["Rs.",a]})]})]})}),p=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),a=t[0],s=t[1],l=Object(n.useState)(null),i=Object(j.a)(l,2),r=i[0],d=i[1],u=Object(n.useState)([]),m=Object(j.a)(u,2),h=m[0],f=m[1];return Object(n.useEffect)((function(){var e=[];o.a.get("/users").then((function(t){var a,c=t.data,n=Object(O.a)(c);try{for(n.s();!(a=n.n()).done;){var s=a.value;e=[].concat(Object(b.a)(e),[{value:s._id,label:s.name}])}}catch(l){n.e(l)}finally{n.f()}f(e)}))}),[]),Object(c.jsx)("div",{className:"ml-4 p-2",children:Object(c.jsxs)("div",{className:"mt-3",children:[Object(c.jsx)("h5",{className:"m-2",children:"Add funds to"}),Object(c.jsx)(x.a,{onChange:function(e){d(e.value)},options:h,classNamePrefix:"my"}),Object(c.jsx)("input",{type:"text",id:"amount",value:a,className:"form-control m-2",placeholder:"Enter amount in Rs.",onChange:function(e){s(e.target.value)}}),Object(c.jsx)("button",{className:"btn btn-primary btn-sm m-2",onClick:function(){o.a.put("/addfunds",{user:r,amount:a}).then((function(e){s(""),alert(e.data)}))},children:"Add"})]})})},v=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),a=t[0],s=t[1],l=Object(n.useState)(null),i=Object(j.a)(l,2),r=i[0],d=i[1],u=Object(n.useState)([]),m=Object(j.a)(u,2),h=m[0],f=m[1];return Object(n.useEffect)((function(){var e=[];o.a.get("/users").then((function(t){var a,c=t.data,n=Object(O.a)(c);try{for(n.s();!(a=n.n()).done;){var s=a.value;e=[].concat(Object(b.a)(e),[{value:s._id,label:s.name}])}}catch(l){n.e(l)}finally{n.f()}f(e)}))}),[]),Object(c.jsx)("div",{className:"ml-4 p-2",children:Object(c.jsxs)("div",{className:"mt-3",children:[Object(c.jsx)("h5",{className:"m-2",children:"Spend funds"}),Object(c.jsx)(x.a,{onChange:function(e){d(e.value)},options:h,classNamePrefix:"my"}),Object(c.jsx)("input",{type:"text",id:"amount",value:a,className:"form-control m-2",placeholder:"Enter amount in Rs.",onChange:function(e){s(e.target.value)}}),Object(c.jsx)("button",{className:"btn btn-primary btn-sm m-2",onClick:function(){o.a.put("/spendfunds",{user:r,amount:a}).then((function(e){s(""),alert(e.data)}))},children:"Spend"})]})})},N=function(){Object(n.useEffect)((function(){o.a.get("/transactions").then((function(e){s(Object(b.a)(e.data))}))}),[]);var e=Object(n.useState)([]),t=Object(j.a)(e,2),a=t[0],s=t[1];return Object(c.jsx)("div",{className:"ml-4 p-2",children:Object(c.jsxs)("table",{className:"table table-striped table-hover",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"User ID"}),Object(c.jsx)("th",{children:"Name"}),Object(c.jsx)("th",{children:"Transaction"}),Object(c.jsx)("th",{children:"Trans Date"}),Object(c.jsx)("th",{children:"Balance"})]})}),Object(c.jsx)("tbody",{children:a.map((function(e,t){var a={};return a=e.transValue.includes("-")?{color:"red"}:{color:"green"},Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:t+1}),Object(c.jsx)("td",{children:e.name}),Object(c.jsx)("td",{style:a,children:e.transValue}),Object(c.jsx)("td",{children:e.transactionDate}),Object(c.jsx)("td",{children:e.balance})]},e._id)}))})]})})},g=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),a=t[0],s=t[1],l=Object(n.useState)({payee:"",receiver:""}),i=Object(j.a)(l,2),r=i[0],d=i[1],u=Object(n.useState)(""),h=Object(j.a)(u,2),f=h[0],p=h[1];Object(n.useEffect)((function(){var e=[];o.a.get("/users").then((function(t){var a,c=t.data,n=Object(O.a)(c);try{for(n.s();!(a=n.n()).done;){var l=a.value;e=[].concat(Object(b.a)(e),[{value:l._id,label:l.name}])}}catch(i){n.e(i)}finally{n.f()}s(e)}))}),[]);return Object(c.jsxs)("div",{className:"ml-4 p-2",children:[Object(c.jsxs)("div",{className:"d-flex align-items-center justify-content-around",children:[Object(c.jsx)(x.a,{onChange:function(e){return d(Object(m.a)(Object(m.a)({},r),{},{payee:e.value}))},options:a,classNamePrefix:"my"}),Object(c.jsx)("span",{className:"mx-2",children:"to"}),Object(c.jsx)(x.a,{onChange:function(e){return d(Object(m.a)(Object(m.a)({},r),{},{receiver:e.value}))},options:a,classNamePrefix:"my"})]}),Object(c.jsx)("input",{type:"text",className:"form-control m-3 d-inline",style:{width:"200px"},onChange:function(e){return p(e.target.value)}}),Object(c.jsx)("button",{className:"btn btn-primary btn-sm",onClick:function(){r.payee!==r.receiver?""!==f?o.a.put("/spendfunds",{user:r.payee,amount:f}).then((function(e){"Cannot spend less than available balance"!==e.data?o.a.put("/addfunds",{user:r.receiver,amount:f}).then((function(e){p(""),alert(e.data)})):alert("You dont have enough funds")})):alert("Enter amount to send"):alert("Cannot Send to yourself!!")},children:"Send"})]})},y=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h2",{className:"mt-4",children:"Personal Wallet"}),Object(c.jsx)("div",{className:"foo",children:Object(c.jsxs)(i.a,{children:[Object(c.jsxs)("div",{className:"list-group listnav",children:[Object(c.jsx)(i.b,{to:"/allwallets",className:"list-group-item",activeClassName:"active",children:"All Wallets"}),Object(c.jsx)(i.b,{to:"/newwallet",className:"list-group-item",activeClassName:"active",children:"New Wallet"}),Object(c.jsx)(i.b,{to:"/checkbalance",className:"list-group-item",activeClassName:"active",children:"Check Balance"}),Object(c.jsx)(i.b,{to:"/addfunds",className:"list-group-item",children:"Add funds"}),Object(c.jsx)(i.b,{to:"/spend",className:"list-group-item",activeClassName:"active",children:"Spend Funds"}),Object(c.jsx)(i.b,{to:"/transactions",className:"list-group-item",children:"All Transactions"}),Object(c.jsx)(i.b,{to:"/p2p",className:"list-group-item",children:"P2P"})]}),Object(c.jsxs)(r.c,{children:[Object(c.jsx)(r.a,{path:"/allwallets",children:Object(c.jsx)(u,{})}),Object(c.jsx)(r.a,{path:"/newwallet",children:Object(c.jsx)(h,{})}),Object(c.jsx)(r.a,{path:"/checkbalance",children:Object(c.jsx)(f,{})}),Object(c.jsx)(r.a,{path:"/addfunds",children:Object(c.jsx)(p,{})}),Object(c.jsx)(r.a,{path:"/spend",children:Object(c.jsx)(v,{})}),Object(c.jsx)(r.a,{path:"/transactions",children:Object(c.jsx)(N,{})}),Object(c.jsx)(r.a,{path:"/p2p",children:Object(c.jsx)(g,{})})]})]})})]})})};l.a.render(Object(c.jsx)(y,{}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.8fcf8fe5.chunk.js.map